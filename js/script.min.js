"use strict";const navMain=document.querySelector(".main-nav"),navToggle=navMain.querySelector(".main-nav__toggle");navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",(e=>{e.preventDefault(),navMain.classList.toggle("main-nav--opened")}));const slider=document.querySelector(".slider");if(slider){const e=slider.querySelector(".slider__list"),t=slider.querySelector(".slider__button--before"),l=slider.querySelector(".slider__button--after"),r=slider.querySelector(".slider__toggle"),n=slider.querySelector(".slider__range"),a=0,i=100;function rangeSlider(t){e.style.gridTemplateColumns=`${t}% ${i-t}%`}function toggleSlider(e){n.value=e?a:i,rangeSlider(n.value),e?r.classList.replace("slider__toggle--before","slider__toggle--after"):r.classList.replace("slider__toggle--after","slider__toggle--before")}slider.classList.remove("slider--nojs"),t.addEventListener("click",(e=>{e.preventDefault(),toggleSlider(!1)})),l.addEventListener("click",(e=>{e.preventDefault(),toggleSlider(!0)})),r.addEventListener("click",(e=>{e.preventDefault(),r.classList.contains("slider__toggle--after")?toggleSlider(!1):toggleSlider(!0)})),n.addEventListener("input",(e=>{e.preventDefault(),rangeSlider(n.value),+n.value===i&&r.classList.contains("slider__toggle--after")&&r.classList.replace("slider__toggle--after","slider__toggle--before"),+n.value===a&&r.classList.contains("slider__toggle--before")&&r.classList.replace("slider__toggle--before","slider__toggle--after")}))}const mapElement=document.querySelector(".contacts__map");function initMap(){const e={mobile:{lat:59.939002,lng:30.322329},tablet:{lat:59.939802,lng:30.322279},desktop:{lat:59.939102,lng:30.317329}},t={mobile:14,tablet:15,desktop:16},l=new google.maps.Map(mapElement,{zoom:t[s()],center:e[s()],disableDefaultUI:!0}),r=document.body.classList.contains("webp"),n={mobile:"img/map-marker-mobile."+(r?"webp":"png"),tablet:"img/map-marker-desktop."+(r?"webp":"png"),desktop:"img/map-marker-desktop."+(r?"webp":"png")},a=new google.maps.Marker({position:{lat:59.938702,lng:30.322629},map:l,icon:n[s()]});let i=s();function s(){return window.matchMedia("(min-width: 1400px)").matches?"desktop":window.matchMedia("(min-width: 768px)").matches?"tablet":"mobile"}window.addEventListener("resize",(()=>{i!==s()&&(i=s(),l.setZoom(t[s()]),l.setCenter(e[s()]),a.setIcon(n[s()]))}))}const mapObserver=new IntersectionObserver(((e,t)=>{if(e[0].intersectionRatio>0){const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAhEZlnef6rM6pZuFImtzyyKnk3wFnpH8I&callback=initMap",document.body.appendChild(e),t.unobserve(mapElement)}}),{rootMargin:"100px",threshold:0});mapObserver.observe(mapElement);const form=document.querySelector(".form");if(form){const e=form.querySelectorAll(".form__input[required]");for(const t of e)t.addEventListener("change",(e=>{e.preventDefault(),t.value?t.parentElement.classList.remove("form__field--invalid"):t.parentElement.classList.add("form__field--invalid")}));form.querySelector(".button--form").addEventListener("click",(t=>{for(const l of e)l.value||(t.preventDefault(),l.parentElement.classList.add("form__field--invalid"))}))}